---
layout: default
title: Accordion
category: _patterns
---

<aside class="p-accordion" role="tablist" aria-multiselect="true">
    <ul class="p-accordion__list">
        <li class="p-accordion__group">
            <button class="p-accordion__tab" id="owner-tab" role="tab" aria-controls="#owner" aria-expanded="true">Owner</button>
            <section class="p-accordion__panel" id="owner" role="tabpanel" aria-hidden="false" aria-labelledby="owner-tab">
                <p>Open panel</p>
            </section>
        </li>
        <li class="p-accordion__group">
            <button class="p-accordion__tab" id="status-tab" role="tab" aria-controls="#status" aria-expanded="false">Status</button>
            <section class="p-accordion__panel" id="status" role="tabpanel" aria-hidden="true" aria-labelledby="status-tab">
                <p>Closed panel</p>
            </section>
        </li>
        <li class="p-accordion__group">
            <button class="p-accordion__tab" id="tags-tab" role="tab" aria-controls="#tags" aria-expanded="false">Tags</button>
            <section class="p-accordion__panel" id="tags" role="tabpanel" aria-hidden="true" aria-labelledby="tags-tab">
                <p>Closed panel</p>
            </section>
        </li>
    </ul>
</aside>

<h2>Example JavaScript</h2>
<pre><code>
(function() {
    /**
     * Toggle target elements with aria controls, hidden and expanded
     *
     * @param {String} tabCtrl
     *
     * @example
     * &lt;button class="p-accordion__tab" id="status-tab" role="tab" aria-controls="#status" aria-expanded="false"&gt;Status&lt;/button&gt;
     * &lt;section class="p-accordion__panel" id="status" role="tabpanel" aria-hidden="true" aria-labelledby="status-tab"&gt;
     *     &lt;p&gt;Closed panel&lt;/p&gt;
     * &lt;/section&gt;
     */

    function accordionToggles(tabCtrl) {

        // Collapse fucntion
        function collapse (tab) {
            var target = tab.getAttribute('aria-controls');
            var panel = document.querySelector(target);

            panel.setAttribute('aria-hidden', true);
            tab.setAttribute('aria-expanded', false);
        }

        // Open function
        function open (tab) {
            var target = tab.getAttribute('aria-controls');
            var panel = document.querySelector(target);

            panel.setAttribute('aria-hidden', false);
            tab.setAttribute('aria-expanded', true);
        }

        // Collapse all tabs and content
        function collapseAll (event) {
            tabs.filter(function (tab) {
                return tab !== event.target;
            }).forEach(collapse);

            open(this);
        }

        // Select all toggle control elements
        var tabs = Array.prototype.slice.call(
          document.querySelectorAll(tabCtrl)
        );

        // Set click event to each toggle control element
        tabs.forEach(function (tab) {
            tab.addEventListener('click', collapseAll);
        });
    }

    accordionToggles('.p-accordion__tab');
})()
</code></pre>

<script>
(function() {
    /**
     * Toggle target elements with aria controls, hidden and expanded
     *
     * @param {String} tabCtrl
     *
     * @example
     * <button class="p-accordion__tab" id="status-tab" role="tab" aria-controls="#status" aria-expanded="false" aria-selected="false">Status</button>
     * <section class="p-accordion__panel" id="status" role="tabpanel" aria-hidden="true" aria-labelledby="status-tab">
     *     <p>Closed panel</p>
     * </section>
     */

    function accordionToggles(tabCtrl) {

        // Collapse fucntion
        function collapse (tab) {
            var target = tab.getAttribute('aria-controls');
            var panel = document.querySelector(target);

            panel.setAttribute('aria-hidden', true);
            tab.setAttribute('aria-expanded', false);
        }

        // Open function
        function open (tab) {
            var target = tab.getAttribute('aria-controls');
            var panel = document.querySelector(target);

            panel.setAttribute('aria-hidden', false);
            tab.setAttribute('aria-expanded', true);
        }

        // Collapse all tabs and content
        function collapseAll (event) {
            tabs.filter(function (tab) {
                return tab !== event.target;
            }).forEach(collapse);

            open(this);
        }

        // Select all toggle control elements
        var tabs = Array.prototype.slice.call(
          document.querySelectorAll(tabCtrl)
        );

        // Set click event to each toggle control element
        tabs.forEach(function (tab) {
            tab.addEventListener('click', collapseAll);
        });
    }

    accordionToggles('.p-accordion__tab');
})()
</script>
